/* ========== RESET ========== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}
html, body {
    height: 100%;
}
body {
    min-height: 100vh;
    background-color: #1C1C1C;
    color: #FFFFFF;
    font-family: "Jost",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;
}
body.welcome-active {
    background-color: #1C1C1C;
}

/* ========== SPLASH ========== */
.splash {
    min-height: 100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    background-color:#1C1C1C;
}
.logo {
    width:55vw;
    max-width:280px;
    height:auto;
}

/* ========== WELCOME ========== */
.welcome-screen {
    display:none;
    min-height:100vh;
    padding:0 24px 40px;
    display:flex;
    flex-direction:column;
    justify-content:space-between;
    background-color:#1C1C1C;
}
.welcome-content {
    margin-top:120px;
    text-align:center;
}
.welcome-title {
    font-weight:600;
    font-size:24px;
    line-height:1.4;
    margin-bottom:24px;
}
.welcome-title span {
    display:block;
}
.welcome-subtitle {
    font-weight:400;
    font-size:16px;
    line-height:1.6;
}
.welcome-buttons {
    width:100%;
    max-width:360px;
    margin:0 auto;
}

/* BUTTONS */
.btn{
    width:100%;
    padding:14px 24px;
    margin-bottom:16px;
    border:none;
    border-radius:999px;
    background-color:#3F3F3F;
    color:#FFFFFF;
    font-size:16px;
    font-weight:700;
    cursor:pointer;
}
.btn:last-child {
    margin-bottom:0;
}
.btn-primary {
    background-color:#3F3F3F;
}

/* ========== REGISTER / LOGIN SCREENS ========== */
.register-screen,
.parent-screen,
.dancer-screen,
.login-screen {
    display:none;
    min-height:100vh;
    padding:0 24px 40px;
    background-color:#1C1C1C;
    color:#FFFFFF;
    position:relative;
}
.register-header,
.parent-header,
.dancer-header,
.login-header {
    margin-top:96px;
    margin-bottom:40px;
    text-align:center;
}
.register-title {
    font-weight:600;
    font-size:28px;
    margin-bottom:24px;
}
.register-subtitle {
    font-weight:500;
    font-size:16px;
    line-height:1.6;
}

.register-form .field,
.parent-form .field,
.dancer-form .field,
.login-form .field {
    width:100%;
    max-width:360px;
    margin:0 auto 16px;
    border:1px solid rgba(255,255,255,.4);
    height:56px;
    display:flex;
    align-items:center;
    padding:0 16px;
}
.register-form input,
.parent-form input,
.dancer-form input,
.login-form input {
    background:transparent;
    border:none;
    outline:none;
    color:#FFFFFF;
    width:100%;
    font-size:16px;
    font-family:inherit;
}
.register-form input::placeholder,
.parent-form input::placeholder,
.dancer-form input::placeholder,
.login-form input::placeholder {
    color:rgba(255,255,255,.4);
}
.register-form .btn-primary,
.parent-form .btn-primary,
.dancer-form .btn-primary,
.login-form .btn-primary {
    margin-top:40px;
    max-width:360px;
    width:100%;
    display:block;
    margin-left:auto;
    margin-right:auto;
}

/* BACK BUTTON */
.back-btn{
    position:absolute;
    top:48px;
    left:24px;
    width:32px;
    height:32px;
    background:transparent;
    border:none;
    color:#FFFFFF;
    font-size:22px;
    cursor:pointer;
}

/* FIELD NOTES */
.field-note{
    width:100%;
    max-width:360px;
    margin:0 auto 4px;
    font-size:12px;
    color:rgba(255,255,255,.6);
    text-align:left;
}

/* PASSWORD TOGGLE */
.field-password{position:relative;}
.toggle-password{
    position:absolute;
    right:16px;
    width:24px;
    height:24px;
    background:none;
    border:none;
    cursor:pointer;
}
.toggle-password::before{
    content:"üëÅ";
    font-size:18px;
    color:rgba(255,255,255,.8);
}

/* SELECT FIELDS */
.field-select{
    position:relative;
    cursor:pointer;
    user-select:none;
}
.select-display{
    display:flex;
    align-items:center;
    justify-content:space-between;
    width:100%;
}
.select-arrow{
    width:8px;
    height:8px;
    border-right:2px solid #FFFFFF;
    border-bottom:2px solid #FFFFFF;
    transform:rotate(45deg);
    transition:transform .2s ease;
    margin-left:8px;
}
.select-options{
    position:absolute;
    top:100%;
    left:-1px;
    right:-1px;
    background-color:#1C1C1C;
    border:1px solid rgba(255,255,255,.4);
    border-top:none;
    display:none;
    z-index:10;
}
.select-option{
    padding:12px 16px;
    font-size:16px;
}
.select-option:hover{
    background-color:#2A2A2A;
}
.field-select.open .select-options{
    display:block;
}
.field-select.open .select-arrow{
    transform:rotate(-135deg);
}

/* DATE FIELD */
.field-date{
    position:relative;
    justify-content:space-between;
}
.field-date span{
    font-size:16px;
    color:rgba(255,255,255,.4);
}
.field-date input[type="date"]{
    position:absolute;
    inset:0;
    opacity:0;
    pointer-events:none;
}
.date-btn{
    width:24px;
    height:24px;
    background:none;
    border:none;
    cursor:pointer;
}
.date-btn::before{
    content:"üìÖ";
    font-size:18px;
    color:rgba(255,255,255,.8);
}

/* ========== MAIN SCREEN (LIST OF CHATS) ========== */
.main-screen{
    display:none;
    min-height:100vh;
    background-color:#1C1C1C;
    padding-bottom:72px;
    color:#FFFFFF;
    flex-direction:column;
}
.chat-search-wrapper{
    padding:72px 16px 8px;
    background-color:#1C1C1C;
}
.chat-search-wrapper input{
    width:100%;
    max-width:400px;
    margin:0 auto;
    display:block;
    border-radius:999px;
    border:1px solid rgba(255,255,255,0.2);
    background-color:#111111;
    color:#FFFFFF;
    padding:8px 10px;
    font-size:14px;
    font-family:inherit;
    outline:none;
}
.chat-search-wrapper input::placeholder{
    color:rgba(255,255,255,0.5);
}

/* CHAT LIST */
.chat-list{
    flex:1;
    padding-top:4px;
}
.chat-item{
    display:flex;
    align-items:center;
    padding:12px 16px;
    border-bottom:1px solid rgba(255,255,255,.1);
    cursor:pointer;
}
.chat-avatar{
    width:40px;
    height:40px;
    border-radius:50%;
    overflow:hidden;
    margin-right:12px;
    background-color:#2A2A2A;
    flex-shrink:0;
}
.chat-avatar img{
    width:100%;
    height:100%;
    object-fit:cover;
}
.chat-body{
    flex:1;
}
.chat-title{
    font-size:16px;
    font-weight:600;
    margin-bottom:4px;
}
.chat-subtitle{
    font-size:13px;
    color:rgba(255,255,255,.6);
}
.chat-meta{
    display:flex;
    flex-direction:column;
    align-items:flex-end;
    min-width:32px;
}
.chat-unread-badge{
    min-width:20px;
    height:20px;
    border-radius:999px;
    background-color:#3BA9FF;
    color:#000000;
    font-size:12px;
    font-weight:600;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:0 5px;
    margin-left:8px;
}

/* –∏–∫–æ–Ω–∫–∞ mute —Ä—è–¥–æ–º —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º —á–∞—Ç–∞ */
.chat-muted-icon{
    width:14px;
    height:14px;
    margin-left:4px;
    vertical-align:middle;
    opacity:0.7;
}

/* –∑–∞–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–π —á–∞—Ç ‚Äî —á—É—Ç—å –±–æ–ª–µ–µ —Å–≤–µ—Ç–ª—ã–π —Ñ–æ–Ω */
.chat-item.chat-pinned{
    background-color:#2b2b2b;
}

/* ========== BOTTOM NAV ========== */
.bottom-nav{
    position:fixed;
    left:0;
    right:0;
    bottom:0;
    height:64px;
    background-color:#111111;
    display:none;
    align-items:center;
    justify-content:space-around;
    border-top-left-radius:24px;
    border-top-right-radius:24px;
    padding:0;
}
.nav-btn{
    width:40px;
    height:40px;
    border:none;
    background:transparent;
    padding:0;
    display:flex;
    align-items:center;
    justify-content:center;
    cursor:pointer;
}
.nav-btn img{
    width:24px;
    height:24px;
    display:block;
}

/* ========== CHAT SCREEN ========== */
.chat-screen{
    display:none;
    min-height:100vh;
    background-color:rgba(0,0,0,.6);
    background-image:url("/img/chat-bg.png");
    background-size:cover;
    background-repeat:repeat;
    background-blend-mode:multiply;
    color:#FFFFFF;
    position:relative;
    padding-top:64px;
    padding-bottom:80px;
}
.chat-header{
    position:fixed;
    top:0;
    left:0;
    right:0;
    height:64px;
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:0 16px;
    background-color:#111111;
    z-index:10;
}
.chat-back{
    background:transparent;
    border:none;
    color:#FFFFFF;
    font-size:20px;
    width:40px;
    text-align:left;
    cursor:pointer;
}
.chat-header-center{
    flex:1;
    text-align:center;
    display:flex;
    flex-direction:column;
    align-items:center;
}
.chat-header-title{
    font-size:16px;
    font-weight:600;
}
.chat-header-status{
    font-size:12px;
    color:rgba(255,255,255,.6);
    margin-top:2px;
}
.chat-header-avatar{
    width:32px;
    height:32px;
    border-radius:50%;
    overflow:hidden;
    background-color:#2A2A2A;
    flex-shrink:0;
}
.chat-header-avatar img{
    width:100%;
    height:100%;
    object-fit:cover;
}

/* CHAT CONTENT */
.chat-content{
    position:absolute;
    top:64px;
    left:0;
    right:0;
    bottom:80px;
    overflow-y:auto;
}

/* CHAT INPUT BAR */
.chat-input-bar{
    position:fixed;
    left:0;
    right:0;
    bottom:0;
    padding:8px 16px 24px;
    display:flex;
    align-items:center;
    gap:8px;
    background:transparent;
}

/* textarea –≤–º–µ—Å—Ç–æ input */
.chat-input-bar textarea{
    flex:1;
    border-radius:12px;
    border:none;
    padding:8px 14px;
    background-color:rgba(63,63,63,.9);
    color:#FFFFFF;
    font-size:16px;
    font-family:inherit;
    line-height:1.3;
    outline:none;
    resize:none;
    height:36px;
    min-height:36px;
    max-height:96px;
    overflow-y:auto;
    scrollbar-width:none;
}
.chat-input-bar textarea::placeholder{
    color:rgba(255,255,255,.6);
}
.chat-input-bar textarea::-webkit-scrollbar{
    display:none;
}

/* –∫–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤ –±–ª–æ–∫–µ —Å –º–∏–∫—Ä–æ—Ñ–æ–Ω–æ–º */

/* ATTACH BUTTON */
.chat-attach-btn{
    width:32px;
    height:32px;
    border:none;
    background:transparent url("icons/attach.png") center/20px 20px no-repeat;
    cursor:pointer;
    flex-shrink:0;
}

/* ========== PROFILE SCREEN ========== */
.profile-screen{
    display:none;
    min-height:100vh;
    background-color:#1C1C1C;
    color:#FFFFFF;
    padding:80px 24px 80px;
    box-sizing:border-box;
}
.profile-content{
    max-width:360px;
    margin:0 auto;
    text-align:center;
}
.profile-avatar-wrapper{
    width:80px;
    height:80px;
    border-radius:50%;
    overflow:hidden;
    margin:0 auto 12px;
    background-color:#2A2A2A;
}
.profile-avatar{
    width:100%;
    height:100%;
    object-fit:cover;
}
.profile-change-photo{
    margin-bottom:32px;
    padding:6px 16px;
    border-radius:999px;
    border:none;
    background-color:#3F3F3F;
    color:#FFFFFF;
    font-size:14px;
    cursor:pointer;
}
.profile-name{
    font-size:20px;
    font-weight:600;
    margin-bottom:24px;
}
.profile-pill{
    margin:0 auto 16px;
    max-width:260px;
    padding:10px 16px;
    border-radius:999px;
    background-color:#3F3F3F;
    font-size:16px;
}

/* ========== USER MODAL ========== */
.chat-user-modal{
    position:fixed;
    inset:0;
    display:none;
    align-items:center;
    justify-content:center;
    z-index:30;
}
.chat-user-modal.visible{
    display:flex;
}
.chat-user-modal-backdrop{
    position:absolute;
    inset:0;
    background:rgba(0,0,0,0.6);
}
.chat-user-modal-card{
    position:relative;
    z-index:31;
    width:80%;
    max-width:320px;
    padding:32px 24px 24px;
    border-radius:16px;
    background-color:#101010;
    text-align:center;
    max-height:90vh;              /* –ù–û–í–û–ï: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –≤—ã—Å–æ—Ç–µ */
    overflow-y:auto;              /* —Å–∫—Ä–æ–ª–ª –≤–Ω—É—Ç—Ä–∏ */
    display:flex;
    flex-direction:column;
    align-items:stretch;
}
.chat-user-back-btn{
    position:absolute;
    top:12px;
    left:12px;
    width:28px;
    height:28px;
    border:none;
    border-radius:50%;
    background-color:#101010;
    color:#FFFFFF;
    font-size:18px;
    display:none;
    align-items:center;
    justify-content:center;
    cursor:pointer;
}
.chat-user-back-btn:active{
    opacity:0.8;
}
.chat-user-avatar-wrapper{
    width:72px;
    height:72px;
    border-radius:50%;
    overflow:hidden;
    margin:0 auto 16px;
    background-color:#2A2A2A;
}
.chat-user-avatar{
    width:100%;
    height:100%;
    object-fit:cover;
}
.chat-user-name{
    font-size:18px;
    font-weight:600;
    margin-bottom:20px;
}
.chat-user-pill{
    margin:0 auto 12px;
    max-width:260px;
    padding:8px 16px;
    border-radius:999px;
    background-color:#3F3F3F;
    font-size:15px;
}
.chat-user-write-btn{
    margin:16px auto 0;
    max-width:260px;
    width:100%;
    padding:10px 0;
    border:none;
    border-radius:999px;
    background-color:#3BA9FF;
    color:#000000;
    font-size:15px;
    font-weight:600;
    cursor:pointer;
}
.chat-user-write-btn:active{
    opacity:0.8;
}
.chat-user-remove-btn{
    margin:8px auto 0;
    max-width:260px;
    width:100%;
    padding:10px 0;
    border:none;
    border-radius:999px;
    background-color:#FF3B30;
    color:#FFFFFF;
    font-size:15px;
    font-weight:600;
    cursor:pointer;
}
.chat-user-remove-btn:active{
    opacity:0.85;
}

/* ========== GROUP MODAL ========== */
.group-modal-backdrop{
    position:absolute;
    inset:0;
    background:rgba(0,0,0,.6);
}
.group-modal-card{
    position:relative;
    z-index:31;
    width:80%;
    max-width:320px;
    padding:24px 24px 16px;
    border-radius:16px;
    background-color:#101010;
    text-align:center;
    display:flex;
    flex-direction:column;
    align-items:stretch;
    max-height:90vh;              /* –ù–û–í–û–ï */
    overflow-y:auto;              /* –ù–û–í–û–ï */
}
.group-avatar-row{
    position:relative;
    display:flex;
    align-items:center;
    justify-content:center;
    margin-bottom:12px;
}
.group-avatar-wrapper{
    width:60px;
    height:60px;
    border-radius:50%;
    overflow:hidden;
    background-color:#2A2A2A;
}
.group-avatar{
    width:100%;
    height:100%;
    object-fit:cover;
}
.group-name-row{
    position:relative;
    display:flex;
    align-items:center;
    justify-content:center;
    margin-bottom:12px;
}
.group-name{
    font-size:18px;
    font-weight:600;
}
.edit-icon{
    position:absolute;
    left:0;
    top:50%;
    transform:translateY(-50%);
    width:20px;
    height:20px;
    border:none;
    background:transparent url("icons/edit.png") center/16px 16px no-repeat;
    cursor:pointer;
}
.group-add-member-btn{
    margin:8px 0 8px;
    padding:8px 0;
    border:none;
    background:transparent;
    color:#FFFFFF;
    font-size:14px;
    border-top:1px solid rgba(255,255,255,.2);
    border-bottom:1px solid rgba(255,255,255,.2);
    cursor:pointer;
}
.group-members-list{
    margin-top:8px;
    max-height:220px;
    overflow-y:auto;
}
.group-member-item{
    display:flex;
    align-items:center;
    padding:8px 0;
    border-bottom:1px solid rgba(255,255,255,.1);
}
.group-member-avatar-wrapper{
    width:32px;
    height:32px;
    border-radius:50%;
    overflow:hidden;
    margin-right:8px;
    background-color:#2A2A2A;
    flex-shrink:0;
}
.group-member-avatar{
    width:100%;
    height:100%;
    object-fit:cover;
}
.group-member-name{
    font-size:14px;
    text-align:left;
}
.group-name-input{
    width:100%;
    margin:4px 0 8px;
    padding:6px 10px;
    border-radius:999px;
    border:none;
    background:#2A2A2A;
    color:#FFFFFF;
    font-size:14px;
    outline:none;
}
.group-name-save-btn{
    width:100%;
    padding:8px 0;
    border:none;
    border-radius:999px;
    background:#3F3F3F;
    color:#FFFFFF;
    font-size:14px;
    margin-bottom:8px;
    cursor:pointer;
}

/* ========== GROUP ADD MODAL ========== */
.group-add-modal-backdrop{
    position:absolute;
    inset:0;
    background:rgba(0,0,0,.6);
}
.group-add-modal-card{
    position:relative;
    z-index:31;
    width:80%;
    max-width:320px;
    padding:24px 24px 24px;
    border-radius:16px;
    background-color:#101010;
    text-align:center;
    display:flex;
    flex-direction:column;
    align-items:stretch;
}
.group-add-label{
    margin:16px 0 8px;
    font-size:14px;
    color:#FFFFFF;
}
.group-add-input-wrapper{
    width:100%;
    max-width:260px;
    margin:0 auto 16px;
    border-radius:12px;
    border:1px solid rgba(255,255,255,.4);
    padding:8px 12px;
    background:transparent;
}
#groupAddUserIdInput{
    width:100%;
    border:none;
    outline:none;
    background:transparent;
    color:#FFFFFF;
    font-size:16px;
    text-align:center;
}
#groupAddUserIdInput::placeholder{
    color:rgba(255,255,255,.4);
}
.group-add-submit-btn{
    width:100%;
    max-width:260px;
    margin:0 auto;
    padding:10px 0;
    border:none;
    border-radius:999px;
    background:#3F3F3F;
    color:#FFFFFF;
    font-size:16px;
    font-weight:600;
    cursor:pointer;
}

/* ========== CREATE GROUP SCREEN ========== */
.create-group-screen{
    display:none;
    min-height:100vh;
    padding:0 24px 40px;
    background-color:#1C1C1C;
    color:#FFFFFF;
    box-sizing:border-box;
}
.create-group-header{
    margin-top:96px;
    margin-bottom:32px;
    text-align:center;
}
.create-group-form .field{
    width:100%;
    max-width:360px;
    margin:0 auto 16px;
    border:1px solid rgba(255,255,255,.4);
    height:56px;
    display:flex;
    align-items:center;
    padding:0 16px;
}
.create-group-form input{
    background:transparent;
    border:none;
    outline:none;
    color:#FFFFFF;
    width:100%;
    font-size:16px;
    font-family:inherit;
}
.create-group-form input::placeholder{
    color:rgba(255,255,255,.4);
}
.create-group-role-label{
    width:100%;
    max-width:360px;
    margin:8px auto 8px;
    font-size:14px;
    color:#FFFFFF;
}
.create-group-role{
    width:100%;
    max-width:360px;
    margin:0 auto 16px;
    display:flex;
    justify-content:space-between;
}
.radio-option{
    display:flex;
    align-items:center;
    gap:8px;
    font-size:14px;
}
.radio-option input{
    display:none;
}
.radio-circle{
    width:18px;
    height:18px;
    border-radius:50%;
    border:2px solid #FFFFFF;
    box-sizing:border-box;
    position:relative;
}
.radio-option input:checked + .radio-circle::after{
    content:'';
    position:absolute;
    inset:3px;
    border-radius:50%;
    background:#FFFFFF;
}
.create-group-age-field{
    width:100%;
    max-width:360px;
    margin:0 auto 24px;
}
.create-group-form .btn-primary{
    max-width:360px;
    width:100%;
    display:block;
    margin:24px auto 0;
}

/* ========== CHAT MESSAGES / MEDIA / REPLY / FILES ========== */

/* –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è */
.msg-item{
    display:block;
    padding:2px 12px;
    margin-bottom:4px;
}
.msg-item.msg-me{
    text-align:right;
}
.msg-item.msg-other{
    text-align:left;
}

/* –∫–æ–ª–æ–Ω–∫–∞: reply + –º–µ–¥–∏–∞ + –ø—É–∑—ã—Ä—å */
.msg-col{
    display:inline-block;
    max-width:60vw;
    text-align:left;
}

/* –ø—É–∑—ã—Ä—å —Å–æ–æ–±—â–µ–Ω–∏—è */
.msg-bubble{
    display:block;
    width:100%;
    max-width:100%;
    box-sizing:border-box;
    padding:12px 14px 6px;
    border-radius:18px;
    font-size:15px;
    background-color:#222222;  /* —á—É–∂–∏–µ */
    color:#FFFFFF;
}
.msg-item.msg-me .msg-bubble{
    background-color:#3BA9FF; /* —Å–≤–æ–∏ –Ω–µ–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ */
    color:#000000;
}

/* –∏–º—è –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø–∞—Ö */
.msg-sender-name{
    font-size:12px;
    font-weight:600;
    margin-bottom:4px;
}

/* –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç */
.msg-text{
    white-space:pre-wrap;
    word-break:break-word;
    overflow-wrap:anywhere;
    max-height:none;
    overflow-y:visible;
}

/* meta (–≤—Ä–µ–º—è, –≥–∞–ª–æ—á–∫–∏) */
.msg-meta{
    margin-top:2px;
    font-size:11px;
    opacity:0.8;
    text-align:right;
}
.msg-edited{
    margin-left:4px;
}
.msg-checks{
    margin-left:4px;
}

/* —Ä–µ–∞–∫—Ü–∏–∏ –ø–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏–µ–º */
.msg-reactions{
    margin-top:4px;
    display:flex;
    flex-wrap:wrap;
    gap:4px;
    font-size:12px;
}
.msg-reaction{
    padding:2px 6px;
    border-radius:999px;
    background-color:rgba(0,0,0,0.2);
    color:#FFFFFF;
}
.msg-item.msg-me .msg-reaction{
    background-color:rgba(255,255,255,0.5);
    color:#000000;
}
.msg-reaction.my{
    border:1px solid #3BA9FF;
}

/* reply‚Äëblock –≤–Ω—É—Ç—Ä–∏ —Å–æ–æ–±—â–µ–Ω–∏—è */
/* reply‚Äëblock –≤–Ω—É—Ç—Ä–∏ —Å–æ–æ–±—â–µ–Ω–∏—è */
.reply-block{
    margin-bottom:4px;
    padding:4px 8px;
    border-radius:10px;
    font-size:12px;
}
.msg-item.msg-other .reply-block{
    background-color:rgba(255,255,255,0.08);
}
.msg-item.msg-me .reply-block{
    background-color:rgba(0,0,0,0.12);
}
.reply-block-title{
    font-weight:600;
    margin-bottom:2px;
    opacity:0.9;
}
.reply-block-text{
    font-size:12px;
    opacity:0.9;
    white-space:normal;
    word-wrap:break-word;
    overflow-wrap:anywhere;
}

/* reply‚Äë–±–ª–æ–∫, –∫–æ—Ç–æ—Ä—ã–π —Å—Ç–æ–∏—Ç –ù–ê–î –≤–ª–æ–∂–µ–Ω–∏–µ–º/–ø—É–∑—ã—Ä—ë–º ‚Äî —à–∞–ø–∫–∞ "–∫–∏—Ä–ø–∏—á–∞" */
.msg-col > .reply-block:first-child{
    width:100%;
    box-sizing:border-box;
    padding:8px 12px;
    margin-bottom:0;                      /* –í–ê–ñ–ù–û: –±–µ–∑ –∑–∞–∑–æ—Ä–∞ –ø–æ–¥ —à–∞–ø–∫–æ–π */
    border-radius:18px 18px 0 0;
    background-color:#000000;
}
.msg-item.msg-me .msg-col > .reply-block:first-child{
    background-color:#3BA9FF;
    color:#000000;
}
.msg-item.msg-me .msg-col > .reply-block:first-child .reply-block-title,
.msg-item.msg-me .msg-col > .reply-block:first-child .reply-block-text{
    color:#000000;
}

/* –µ—Å–ª–∏ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ reply –∏–¥—ë—Ç media ‚Äî media –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —à–∞–ø–∫—É */
.msg-col > .reply-block:first-child + .msg-media-wrapper{
    border-top-left-radius:0;
    border-top-right-radius:0;
}

/* –µ—Å–ª–∏ reply —Å—Ä–∞–∑—É –Ω–∞–¥ –ø—É–∑—ã—Ä—ë–º (–±–µ–∑ –º–µ–¥–∏–∞) ‚Äî —Ç–æ–∂–µ –æ–¥–∏–Ω –±–ª–æ–∫ */
.msg-col > .reply-block:first-child + .msg-bubble{
    border-top-left-radius:0;
    border-top-right-radius:0;
}

/* –∫—Ä–∞—Ç–∫–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –ø–æ reply/pin ‚Äî –≤–æ–∫—Ä—É–≥ –≤—Å–µ–≥–æ "–∫–∏—Ä–ø–∏—á–∞" */
.msg-item.msg-highlight .msg-col{
    box-shadow:0 0 0 2px rgba(255,255,255,0.7);
    border-radius:22px;
}


/* —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å "–ù–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è" */
.msg-unread-separator{
    text-align:center;
    margin:8px 0;
}
.msg-unread-separator span{
    display:inline-block;
    padding:4px 10px;
    border-radius:999px;
    background-color:#2A2A2A;
    font-size:11px;
    color:#FFFFFF;
}

/* –§–ê–ô–õ–´ –í –°–û–û–ë–©–ï–ù–ò–ò */
.msg-file-attachment{
    display:inline-block;
    padding:6px 10px;
    border-radius:10px;
    background-color:rgba(0,0,0,0.2);
    color:#FFFFFF;
    font-size:12px;
    margin-bottom:4px;
}
.msg-item.msg-me .msg-file-attachment{
    background-color:rgba(255,255,255,0.5);
    color:#000000;
}
.msg-file-name{
    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
    max-width:200px;
}
.msg-file-size{
    font-size:11px;
    opacity:0.8;
    margin-top:2px;
}

/* ========== –ú–ï–î–ò–ê (–§–û–¢–û / –í–ò–î–ï–û) ========== */

/* –∫–æ–ª–æ–Ω–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è */
.msg-col{
    display:inline-block;
    max-width:60vw;
    text-align:left;
}

/* –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–µ–¥–∏–∞:
   - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —à–∏—Ä–∏–Ω–∞ –ø–æ –∫–æ–ª–æ–Ω–∫–µ,
   - blur –≤–∫–ª—é—á–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ .with-blur */
.msg-media-wrapper{
    position:relative;
    display:block;
    width:100%;                           /* = —à–∏—Ä–∏–Ω–µ .msg-col */
    max-width:100%;
    margin:0;                             
    overflow:hidden;
    border-radius:18px 18px 0 0;
    border:none;
    background-color:transparent;          /* —Ñ–æ–Ω –≤–∫–ª—é—á–∏–º —Ç–æ–ª—å–∫–æ –ø—Ä–∏ blur */
}

/* blur‚Äë–ø–æ–¥–ª–æ–∂–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ–≤–∏–¥–∏–º–∞ */
.msg-media-bg{
    position:absolute;
    inset:0;
    background-position:center;
    background-size:cover;
    filter:blur(18px);
    transform:scale(1.05);
    opacity:0;
    pointer-events:none;
    transition:opacity 0.15s ease;
}

/* –∫–æ–≥–¥–∞ JS —Ä–µ—à–∏—Ç, —á—Ç–æ –ø–æ–ª–æ—Å—ã –Ω—É–∂–Ω—ã (—É–∑–∫–æ–µ —Ñ–æ—Ç–æ + —à–∏—Ä–æ–∫–∏–π —Ç–µ–∫—Å—Ç) */
.msg-media-wrapper.with-blur{
    background-color:#000000;
}
.msg-media-wrapper.with-blur .msg-media-bg{
    opacity:1;
}

/* —Å–∞–º–æ —Ñ–æ—Ç–æ / –≤–∏–¥–µ–æ */
.msg-attachment-image,
.msg-attachment-video{
    position:relative;
    z-index:1;
    display:block;
    max-width:100%;
    height:auto;
    max-height:60vh;
    margin:0 auto;
    object-fit:contain;
    background-color:transparent;
}

/* –ø—É–∑—ã—Ä—å –ø–æ–¥ –º–µ–¥–∏–∞ ‚Äî –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ (–±–µ–∑ –≤–µ—Ä—Ö–Ω–∏—Ö —É–≥–ª–æ–≤) */
.msg-col > .msg-media-wrapper + .msg-bubble{
    border-top-left-radius:0;
    border-top-right-radius:0;
}

/* ========== REPLY BAR –ù–ê–î –ò–ù–ü–£–¢–û–ú ========== */

.reply-bar{
    position:fixed;
    left:0;
    right:0;
    bottom:72px;
    padding:6px 16px;
    display:none;                        /* –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ JS */
    align-items:center;
    justify-content:space-between;
    background-color:rgba(0,0,0,0.7);
    backdrop-filter:blur(6px);
    z-index:9;
}

.reply-bar-content{
    max-width:80%;
}

/* –∏–º—è –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è */
.reply-bar-title{
    font-size:12px;
    font-weight:600;
    margin-bottom:2px;
    color:#3BA9FF;
}

/* —Å–Ω–∏–ø–ø–µ—Ç –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è */
.reply-bar-text{
    font-size:13px;
    color:#FFFFFF;
    opacity:0.9;
    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
}

/* –∫—Ä–µ—Å—Ç–∏–∫ –∑–∞–∫—Ä—ã—Ç–∏—è */
.reply-bar-cancel{
    width:24px;
    height:24px;
    border-radius:50%;
    border:none;
    background:none;
    color:#FFFFFF;
    font-size:18px;
    cursor:pointer;
}

/* ========== ATTACH PREVIEW BAR ========== */
.attach-preview-bar{
    position:fixed;
    left:0;
    right:0;
    bottom:64px;
    padding:4px 8px;
    display:none;
    gap:6px;
    overflow-x:auto;
    background:rgba(0,0,0,0.6);
    backdrop-filter:blur(6px);
    z-index:8;
}
.attach-preview-item{
    position:relative;
    width:60px;
    height:60px;
    border-radius:10px;
    overflow:hidden;
    background-color:#000000;
    flex-shrink:0;
}
.attach-preview-thumb{
    width:100%;
    height:100%;
    object-fit:cover;
    display:block;
}
.attach-preview-remove{
    position:absolute;
    top:2px;
    right:2px;
    width:18px;
    height:18px;
    border:none;
    border-radius:50%;
    background-color:rgba(0,0,0,0.7);
    color:#FFFFFF;
    font-size:12px;
    cursor:pointer;
}

/* –ø—Ä–µ–≤—å—é "—Ñ–∞–π–ª" */
.attach-preview-item.attach-preview-item-file{
    width:130px;
    height:auto;
    padding:4px 6px;
    border-radius:10px;
    background-color:#000000;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:flex-start;
}
.attach-preview-file{
    width:100%;
}
.attach-preview-file-name{
    font-size:11px;
    color:#FFFFFF;
    max-width:100%;
    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
}
.attach-preview-file-size{
    font-size:10px;
    color:rgba(255,255,255,0.7);
    margin-top:2px;
}

/* ========== PINNED TOP BAR ========== */
.pinned-top-bar{
    position:fixed;
    top:64px;
    left:0;
    right:0;
    padding:4px 12px 6px;
    background:rgba(0,0,0,0.7);
    backdrop-filter:blur(4px);
    z-index:9;
    display:none;
}
.pinned-top-label{
    font-size:11px;
    color:rgba(255,255,255,0.6);
    margin-bottom:2px;
}
.pinned-top-text{
    font-size:13px;
    color:#FFFFFF;
    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
}

/* ========== EDIT MESSAGE UI ========== */
.msg-edit-wrapper{
    margin-top:4px;
}
.msg-edit-input{
    width:100%;
    min-height:60px;
    resize:vertical;
    box-sizing:border-box;
    border-radius:12px;
    border:none;
    padding:6px 8px;
    background-color:#1F1F1F;
    color:#FFFFFF;
    font-size:14px;
    font-family:inherit;
    outline:none;
}
.msg-edit-actions{
    display:flex;
    justify-content:flex-end;
    margin-top:4px;
    gap:6px;
}
.msg-edit-btn{
    padding:4px 10px;
    border:none;
    border-radius:999px;
    font-size:12px;
    cursor:pointer;
}
.msg-edit-cancel{
    background-color:#2A2A2A;
    color:#FFFFFF;
}
.msg-edit-save{
    background-color:#3BA9FF;
    color:#000000;
}

/* ========== CONTEXT MENU FOR MESSAGE ========== */
.msg-context-overlay{
    position:fixed;
    inset:0;
    display:none;
    align-items:flex-end;
    justify-content:center;
    background:rgba(0,0,0,0.5);
    z-index:70;
}
.msg-context-overlay.visible{
    display:flex;
}
.msg-context-menu{
    width:90%;
    max-width:360px;
    margin-bottom:20px;
    border-radius:16px;
    background-color:#101010;
    padding:8px 0 4px;
    box-shadow:0 8px 24px rgba(0,0,0,0.6);
}
.msg-context-btn{
    width:100%;
    padding:10px 16px;
    border:none;
    background:transparent;
    color:#FFFFFF;
    font-size:15px;
    text-align:left;
    border-bottom:1px solid rgba(255,255,255,0.1);
    cursor:pointer;
}
.msg-context-btn:last-of-type{
    border-bottom:none;
}
.msg-context-btn-danger{
    color:#FF6B6B;
}
.msg-context-btn:active{
    background-color:#222222;
}
.msg-context-emoji-row{
    display:flex;
    justify-content:space-around;
    padding:6px 0 4px;
}
.msg-context-emoji{
    font-size:20px;
    cursor:pointer;
}

/* ========== CONTEXT MENU FOR CHAT ========== */
.chat-context-overlay{
    position:fixed;
    inset:0;
    display:none;
    align-items:flex-end;
    justify-content:center;
    background:rgba(0,0,0,0.5);
    z-index:50;
}
.chat-context-menu{
    width:90%;
    max-width:360px;
    margin-bottom:20px;
    border-radius:16px;
    background-color:#101010;
    padding:8px 0;
    box-shadow:0 8px 24px rgba(0,0,0,0.6);
}
.chat-context-btn{
    width:100%;
    padding:12px 16px;
    border:none;
    background:transparent;
    color:#FFFFFF;
    font-size:15px;
    text-align:left;
    border-bottom:1px solid rgba(255,255,255,0.1);
    cursor:pointer;
}
.chat-context-btn:last-child{
    border-bottom:none;
}
.chat-context-btn-danger{
    color:#FF6B6B;
}
.chat-context-btn:active{
    background-color:#222222;
}

/* ========== MEDIA VIEWER ========== */
.media-viewer{
    position:fixed;
    inset:0;
    display:none;
    align-items:center;
    justify-content:center;
    background:rgba(0,0,0,0.9);
    z-index:100;
}
.media-viewer.visible{
    display:flex;
}
.media-viewer-backdrop{
    position:absolute;
    inset:0;
}
.media-viewer-content{
    position:relative;
    z-index:101;
    max-width:100vw;
    max-height:100vh;
}
.media-viewer-img,
.media-viewer-video{
    max-width:100vw;
    max-height:100vh;
    display:none;
}

/* ========== FORWARD MODAL ========== */
.forward-modal{
    position:fixed;
    inset:0;
    display:none;
    align-items:center;
    justify-content:center;
    z-index:60;
}
.forward-modal.visible{
    display:flex;
}
.forward-backdrop{
    position:absolute;
    inset:0;
    background:rgba(0,0,0,0.6);
}
.forward-card{
    position:relative;
    z-index:61;
    width:90%;
    max-width:360px;
    max-height:70vh;
    padding:16px 16px 12px;
    border-radius:16px;
    background-color:#101010;
    box-sizing:border-box;
    display:flex;
    flex-direction:column;
}
.forward-title{
    font-size:16px;
    font-weight:600;
    text-align:center;
    margin-bottom:8px;
}
.forward-list{
    flex:1;
    overflow-y:auto;
    margin-bottom:8px;
}
.forward-item{
    padding:8px 10px;
    border-radius:10px;
    border:1px solid rgba(255,255,255,0.1);
    margin-bottom:6px;
    cursor:pointer;
}
.forward-item-title{
    font-size:14px;
    font-weight:600;
}
.forward-item-subtitle{
    font-size:12px;
    color:rgba(255,255,255,0.6);
    margin-top:2px;
}
.forward-item.selected{
    border-color:#3BA9FF;
    background-color:rgba(59,169,255,0.12);
}
.forward-actions{
    display:flex;
    justify-content:space-between;
    gap:8px;
}
.forward-btn{
    flex:1;
    padding:8px 0;
    border:none;
    border-radius:999px;
    font-size:14px;
    font-weight:600;
    cursor:pointer;
}
.forward-btn-cancel{
    background-color:#2A2A2A;
    color:#FFFFFF;
}
.forward-btn-submit{
    background-color:#3BA9FF;
    color:#000000;
}
.forward-btn-submit:disabled{
    opacity:0.4;
    cursor:default;
}

/* ========== FEED SCREEN ========== */
.feed-screen{
    display:none;
    min-height:100vh;
    background-color:#1C1C1C;
    color:#FFFFFF;
    padding:80px 16px 80px;
    box-sizing:border-box;
    flex-direction:column;
    align-items:center;
}
.feed-list{
    width:100%;
    max-width:360px;
    margin:0 auto;
}
.feed-post{
    background-color:#101010;
    border-radius:16px;
    padding:12px 14px;
    margin:10px auto;
}
.feed-post-header{
    display:flex;
    align-items:center;
    justify-content:center;
    margin-bottom:6px;
}
.feed-post-avatar-wrapper{
    width:28px;
    height:28px;
    border-radius:50%;
    overflow:hidden;
    background-color:#2A2A2A;
    margin-right:8px;
    flex-shrink:0;
}
.feed-post-avatar{
    width:100%;
    height:100%;
    object-fit:cover;
}
.feed-post-author{
    font-size:14px;
    font-weight:600;
}
.feed-post-text{
    font-size:14px;
    line-height:1.5;
    color:#FFFFFF;
    white-space:pre-wrap;       
    word-wrap:break-word;
    overflow-wrap:break-word;
}
.feed-post-image{
    width:100%;
    border-radius:12px;
    margin-top:8px;
    object-fit:cover;
}
.feed-post-footer{
    margin-top:6px;
    display:flex;
    justify-content:flex-end;
}
.feed-post-date{
    font-size:12px;
    color:rgba(255,255,255,0.6);
}
.feed-create-btn{
    position:fixed;
    left:16px;
    right:16px;
    bottom:80px;
    padding:12px 0;
    border:none;
    border-radius:999px;
    background-color:#3F3F3F;
    color:#FFFFFF;
    font-size:15px;
    font-weight:600;
    text-align:center;
    cursor:pointer;
}
.feed-create-btn:active{
    opacity:0.85;
}

/* ========== POST MODAL ========== */
.post-modal{
    position:fixed;
    inset:0;
    display:none;
    align-items:center;
    justify-content:center;
    z-index:60;
}
.post-modal.visible{
    display:flex;
}
.post-modal-backdrop{
    position:absolute;
    inset:0;
    background:rgba(0,0,0,0.6);
}
.post-modal-card{
    position:relative;
    z-index:61;
    width:90%;
    max-width:360px;
    padding:20px 16px 16px;
    border-radius:16px;
    background-color:#101010;
    box-sizing:border-box;
    max-height:90vh;
    overflow-y:auto;
}
.post-modal-title{
    font-size:18px;
    font-weight:600;
    text-align:center;
    margin-bottom:12px;
}
.post-modal-field{
    margin-bottom:12px;
}
.post-modal-label{
    font-size:13px;
    color:rgba(255,255,255,0.7);
    margin-bottom:4px;
}
.post-modal-upload-btn{
    border:none;
    border-radius:999px;
    padding:8px 12px;
    background-color:#3F3F3F;
    color:#FFFFFF;
    font-size:14px;
    cursor:pointer;
}
.post-modal-upload-btn:active{
    opacity:0.85;
}
.post-image-preview{
    margin-top:8px;
    border-radius:12px;
    overflow:hidden;
    background-color:#000000;
    max-height:45vh;
    display:flex;
    align-items:center;
    justify-content:center;
}
.post-image-preview img{
    max-width:100%;
    max-height:100%;
    width:auto;
    height:auto;
    display:block;
    object-fit:contain;
}
#postTextInput{
    width:100%;
    min-height:80px;
    resize:vertical;
    box-sizing:border-box;
    border-radius:12px;
    border:none;
    padding:8px 10px;
    background-color:#1F1F1F;
    color:#FFFFFF;
    font-size:14px;
    font-family:inherit;
    outline:none;
}
#postTextInput::placeholder{
    color:rgba(255,255,255,0.4);
}
.post-modal-actions{
    display:flex;
    justify-content:space-between;
    margin-top:8px;
}
.post-modal-btn{
    flex:1;
    padding:8px 0;
    border:none;
    border-radius:999px;
    font-size:14px;
    font-weight:600;
    cursor:pointer;
}
.post-modal-cancel{
    margin-right:6px;
    background-color:#2A2A2A;
    color:#FFFFFF;
}
.post-modal-submit{
    margin-left:6px;
    background-color:#3BA9FF;
    color:#000000;
}

/* ========== FEED: INLINE EDIT POST ========== */

.feed-post-edit-wrapper{
    margin-top:8px;
}

.feed-post-edit-input{
    width:100%;
    min-height:80px;                 /* –≤–∏–¥–Ω–æ –º–Ω–æ–≥–æ —Å—Ç—Ä–æ–∫ */
    resize:vertical;                 /* –º–æ–∂–Ω–æ —Ä–∞—Å—Ç—è–≥–∏–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é */
    box-sizing:border-box;
    border-radius:12px;
    border:none;
    padding:8px 10px;
    background-color:#1F1F1F;
    color:#FFFFFF;
    font-size:14px;
    font-family:inherit;
    outline:none;
}

/* –∫–Ω–æ–ø–∫–∏ –ø–æ–¥ —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–º */
.feed-post-edit-actions{
    display:flex;
    justify-content:flex-end;
    gap:6px;
    margin-top:6px;
}

.feed-post-edit-btn{
    padding:6px 10px;
    border:none;
    border-radius:999px;
    font-size:13px;
    font-weight:600;
    cursor:pointer;
}

/* –û—Ç–º–µ–Ω–∞ */
.feed-post-edit-cancel{
    background-color:#2A2A2A;
    color:#FFFFFF;
}

/* –£–¥–∞–ª–∏—Ç—å */
.feed-post-edit-delete{
    background-color:#FF3B30;
    color:#FFFFFF;
}

/* –°–æ—Ö—Ä–∞–Ω–∏—Ç—å */
.feed-post-edit-save{
    background-color:#3BA9FF;
    color:#000000;
}

/* ========== –ì–û–õ–û–°–û–í–´–ï (–∑–∞–ø–∏—Å—å –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ) ========== */

/* –ø–∞–Ω–µ–ª—å –∑–∞–ø–∏—Å–∏ –ø–æ–≤–µ—Ä—Ö –∏–Ω–ø—É—Ç–∞ */
.voice-record-ui{
    display:none;                 /* –≤–∫–ª—é—á–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –Ω–∞ —Ñ–æ—Ä–º–µ –µ—Å—Ç—å –∫–ª–∞—Å—Å .recording */
    align-items:center;
    gap:10px;
    flex:1;
    border-radius:12px;
    padding:6px 10px;
    background-color:rgba(63,63,63,0.95);
}

/* –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ —Å–∫—Ä—ã–≤–∞–µ–º textarea –∏ –∫–Ω–æ–ø–∫—É —Å–∫—Ä–µ–ø–∫–∏, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–∞–Ω–µ–ª—å */
.chat-input-bar.recording textarea{
    display:none;
}
.chat-input-bar.recording .chat-attach-btn{
    opacity:0;
    pointer-events:none;
}
.chat-input-bar.recording .voice-record-ui{
    display:flex;
}

/* –∫—Ä–∞—Å–Ω–∞—è —Ç–æ—á–∫–∞ ¬´–∏–¥—ë—Ç –∑–∞–ø–∏—Å—å¬ª */
.voice-red-dot{
    width:8px;
    height:8px;
    border-radius:50%;
    background-color:#FF3B30;
    flex-shrink:0;
}

/* –∂–∏–≤–∞—è –≤–æ–ª–Ω–∞ –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ */
.voice-wave-live{
    flex:1;
    display:flex;
    align-items:center;
    gap:2px;
    height:18px;
}
.voice-wave-bar{
    width:3px;
    height:3px;          /* –≤—ã—Å–æ—Ç–∞ –∞–Ω–∏–º–∏—Ä—É–µ—Ç—Å—è JS */
    border-radius:2px;
    background-color:#FFFFFF;
    opacity:0.9;
}

/* –ø–æ–¥–ø–∏—Å—å ¬´–°–≤–∞–π–ø –≤–ø—Ä–∞–≤–æ ‚Äî –æ—Ç–º–µ–Ω–∞¬ª */
.voice-record-hint{
    font-size:11px;
    color:rgba(255,255,255,0.7);
    white-space:nowrap;
}

/* —Ç–∞–π–º–µ—Ä –∑–∞–ø–∏—Å–∏ */
.voice-timer{
    font-size:13px;
    font-variant-numeric:tabular-nums;
    color:#FFFFFF;
}

/* ========== –ì–õ–û–ë–ê–õ–¨–ù–û–ï –°–ö–†–´–¢–ò–ï –°–ö–†–û–õ–õ–ë–ê–†–û–í ========== */

/* –µ—Å–ª–∏ —Ç–µ–±–µ –Ω—É–∂–Ω–æ –∏—Ö —Å–∫—Ä—ã–≤–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω–æ: */
* {
    scrollbar-width: none;      /* Firefox */
    -ms-overflow-style: none;   /* IE/—Å—Ç–∞—Ä—ã–π Edge */
}
*::-webkit-scrollbar {
    display: none;              /* Chrome, Safari, –Ω–æ–≤—ã–π Edge */
}

/* ========== –ú–ò–ö–†–û–§–û–ù / –û–¢–ü–†–ê–í–ö–ê / –ì–û–õ–û–°–û–í–´–ï ========== */

/* –æ–±—ë—Ä—Ç–∫–∞ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –º–∏–∫—Ä–æ—Ñ–æ–Ω / –æ—Ç–ø—Ä–∞–≤–∫–∞ */
/* ========== –ú–ò–ö–†–û–§–û–ù / –û–¢–ü–†–ê–í–ö–ê (—Å –ø–µ—Ä–µ–∫—Ä—ë—Å—Ç–Ω—ã–º –≤—ã–µ–∑–¥–æ–º) ========== */

.chat-send-mic-wrapper{
    position:relative;
    width:40px;
    height:40px;
    flex-shrink:0;
}

/* –±–∞–∑–æ–≤–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –æ–±–æ–∏—Ö –∫—Ä—É–≥–æ–≤ ‚Äî –ø–æ —Ü–µ–Ω—Ç—Ä—É */
.chat-mic-btn,
.chat-send-btn{
    position:absolute;
    top:50%;
    left:50%;
    width:36px;
    height:36px;
    border-radius:50%;
    border:none;
    padding:0;
    cursor:pointer;
    display:flex;
    align-items:center;
    justify-content:center;
    background-color:#3BA9FF;
    background-position:center;
    background-repeat:no-repeat;
    background-size:18px 18px;
    transform:translate(-50%,-50%);
    opacity:1;
    transition:
        opacity 0.2s ease,
        transform 0.2s ease,
        background-color 0.2s ease;
}

/* –∏–∫–æ–Ω–∫–∏ */
.chat-mic-btn{
    background-image:url("icons/mic.png");
}

/* send –≤ –∏—Å—Ö–æ–¥–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å–ø—Ä—è—Ç–∞–Ω –∏ —á—É—Ç—å –°–õ–ï–í–ê (—á—Ç–æ–±—ã –≤—ã–µ–∑–∂–∞–ª —Å–ø—Ä–∞–≤–∞‚Äë–Ω–∞–ª–µ–≤–æ) */
.chat-send-btn{
    background-image:url("icons/send.png");
    opacity:0;
    pointer-events:none;
    transform:translate(-50%,-50%) translateX(-8px);
}

.chat-input-bar.can-send:not(.recording) .chat-mic-btn{
    opacity:0;
    pointer-events:none;
    transform:translate(-50%,-50%) translateX(8px);   /* –≤–ø—Ä–∞–≤–æ */
}
.chat-input-bar.can-send:not(.recording) .chat-send-btn{
    opacity:1;
    pointer-events:auto;
    transform:translate(-50%,-50%);                   /* –≤ —Ü–µ–Ω—Ç—Ä */
}

/* ====== –°–û–°–¢–û–Ø–ù–ò–ï: –ó–ê–ü–ò–°–¨ –ì–û–õ–û–°–û–í–û–ì–û (recording) ======
   –≤—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –º–∏–∫—Ä–æ—Ñ–æ–Ω, –∫—Ä–∞—Å–Ω—ã–π, —á—É—Ç—å –≤–ø—Ä–∞–≤–æ; send —Å–∫—Ä—ã—Ç */
.chat-input-bar.recording .chat-mic-btn{
    opacity:1;
    pointer-events:auto;
    background-color:#FF3B30;
    transform:translate(-50%,-50%) translateX(6px);    /* –ª—ë–≥–∫–∏–π —Å–¥–≤–∏–≥ –≤–ø—Ä–∞–≤–æ */
}
.chat-input-bar.recording .chat-send-btn{
    opacity:0;
    pointer-events:none;
}

/* –ø–∞–Ω–µ–ª—å –∑–∞–ø–∏—Å–∏ –ø–æ–≤–µ—Ä—Ö textarea */
.voice-record-ui{
    display:none;
    align-items:center;
    gap:10px;
    flex:1;
    border-radius:12px;
    padding:6px 10px;
    background-color:rgba(63,63,63,0.95);
    opacity:0;
    transform:translateX(12px);
    transition:
        opacity 0.18s ease,
        transform 0.18s ease;
}

/* –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –ø—Ä—è—á–µ–º textarea/—Å–∫—Ä–µ–ø–∫—É –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–∞–Ω–µ–ª—å */
.chat-input-bar.recording textarea{
    display:none;
}
.chat-input-bar.recording .chat-attach-btn{
    opacity:0;
    pointer-events:none;
}
.chat-input-bar.recording .voice-record-ui{
    display:flex;
    opacity:1;
    transform:translateX(0);
}

/* –∫—Ä–∞—Å–Ω–∞—è —Ç–æ—á–∫–∞ "–∏–¥—ë—Ç –∑–∞–ø–∏—Å—å" */
.voice-red-dot{
    width:8px;
    height:8px;
    border-radius:50%;
    background-color:#FF3B30;
    flex-shrink:0;
}

/* –∂–∏–≤–∞—è –≤–æ–ª–Ω–∞ –≤–æ –≤—Ä–µ–º—è –∑–∞–ø–∏—Å–∏ */
.voice-wave-live{
    flex:1;
    display:flex;
    align-items:center;
    gap:2px;
    height:18px;
}
.voice-wave-bar{
    width:3px;
    height:3px;
    border-radius:2px;
    background-color:#FFFFFF;
    opacity:0.9;
    transition:
        height 0.18s ease-out,
        background-color 0.18s linear;
}

/* –ø–æ–¥—Å–∫–∞–∑–∫–∞ –∏ —Ç–∞–π–º–µ—Ä */
.voice-record-hint{
    font-size:11px;
    color:rgba(255,255,255,0.7);
    white-space:nowrap;
}
.voice-timer{
    font-size:13px;
    font-variant-numeric:tabular-nums;
    color:#FFFFFF;
}

/* ====== –í–û–°–ü–†–û–ò–ó–í–ï–î–ï–ù–ò–ï –ì–û–õ–û–°–û–í–û–ì–û –í –õ–ï–ù–¢–ï ====== */

.msg-voice{
    display:flex;
    align-items:center;
    gap:10px;
}

/* –∫—Ä—É–≥–ª–∞—è –∫–Ω–æ–ø–∫–∞ play/pause —Å—Ç—Ä–æ–≥–æ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
.msg-voice-play{
    width:28px;
    height:28px;
    border-radius:50%;
    border:none;
    padding:0;
    cursor:pointer;
    display:flex;
    align-items:center;
    justify-content:center;
    background-color:#FFFFFF;
    color:#000000;
}
.msg-item.msg-me .msg-voice-play{
    background-color:#000000;
    color:#FFFFFF;
}
.msg-voice-play::before{
    content:'‚ñ∂';
    font-size:14px;
    line-height:1;
}
.msg-voice-play.playing::before{
    content:'‚è∏';
}

/* –≤–æ–ª–Ω–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ */
.msg-voice-wave{
    flex:1;
    display:flex;
    align-items:center;
    gap:2px;
    height:20px;
    cursor:pointer;
}

/* –±–∞–∑–æ–≤–∞—è –ª–∏–Ω–∏—è + –ø–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è */
.msg-voice-wave-bar{
    width:3px;
    border-radius:2px;
    background-color:rgba(255,255,255,0.45);
    transition:
        height 0.18s ease-out,
        background-color 0.2s linear;
}
.msg-item.msg-me .msg-voice-wave-bar{
    background-color:rgba(0,0,0,0.35);
}

/* —É–∂–µ –ø—Ä–æ–∏–≥—Ä–∞–Ω–Ω–∞—è —á–∞—Å—Ç—å */
.msg-voice-wave-bar.played{
    background-color:#FFFFFF;
}
.msg-item.msg-me .msg-voice-wave-bar.played{
    background-color:#000000;
}

/* —Ç–∞–π–º–µ—Ä —Å–ø—Ä–∞–≤–∞ */
.msg-voice-time{
    font-size:12px;
    min-width:38px;
    text-align:right;
    margin-left:4px;
    font-variant-numeric:tabular-nums;
    opacity:0.9;
}

.profile-logout-btn{
    margin:24px auto 0;
    max-width:260px;
    width:100%;
    padding:10px 0;
    border:none;
    border-radius:999px;
    background-color:#FF3B30;
    color:#FFFFFF;
    font-size:15px;
    font-weight:600;
    cursor:pointer;
}
.profile-logout-btn:active{
    opacity:0.85;
}

/* ========== NETWORK BANNER ========== */

.network-banner{
    position:fixed;
    left:50%;
    top:10px;
    transform:translateX(-50%);
    padding:6px 12px;
    border-radius:999px;
    background-color:rgba(255,59,48,0.95);
    color:#FFFFFF;
    font-size:12px;
    z-index:200;
    display:none;
}
.network-banner.show{
    display:block;
}

/* ========== ATTACHMENTS (–ú–ï–î–ò–ê / –§–ê–ô–õ–´ / –ê–£–î–ò–û –í –ú–û–î–ê–õ–ö–ê–•) ========== */

.chat-attachments{
    margin-top:12px;
    padding-top:8px;
    border-top:1px solid rgba(255,255,255,0.15);
    width:100%;
    max-height:240px;
    display:flex;
    flex-direction:column;
}

.chat-attachments-tabs{
    display:flex;
    justify-content:center;
    gap:12px;
    margin-bottom:4px;
}

.chat-attachments-tab{
    border:none;
    background:transparent;
    color:rgba(255,255,255,0.7);
    font-size:13px;
    padding:4px 0;
    position:relative;
    cursor:pointer;
}
.chat-attachments-tab-active{
    color:#FFFFFF;
}
.chat-attachments-tab-active::after{
    content:'';
    position:absolute;
    left:0;
    right:0;
    bottom:-2px;
    height:2px;
    border-radius:999px;
    background-color:#3BA9FF;
}

/* –ö–æ–Ω—Ç–µ–Ω—Ç */
.chat-attachments-content{
    flex:1;
    overflow:hidden;
    display:flex;
    flex-direction:column;
}

/* –°–µ—Ç–∫–∞ –º–µ–¥–∏–∞ (3 –∫–æ–ª–æ–Ω–∫–∏) */
.chat-attachments-media-grid{
    flex:1;
    display:grid;
    grid-template-columns:repeat(3, 1fr);
    grid-auto-rows:70px;
    gap:2px;
    overflow-y:auto;
}

.chat-media-item{
    position:relative;
    width:100%;
    height:100%;
    background-size:cover;
    background-position:center;
    cursor:pointer;
}
.chat-media-video-icon{
    position:absolute;
    right:4px;
    bottom:4px;
    padding:2px 4px;
    border-radius:6px;
    background:rgba(0,0,0,0.6);
    font-size:10px;
}

/* –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ / –∞—É–¥–∏–æ */
.chat-attachments-files-list,
.chat-attachments-audio-list{
    flex:1;
    overflow-y:auto;
    display:none; /* –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∏–¥–Ω–∞ —Ç–æ–ª—å–∫–æ –º–µ–¥–∏–∞-—Å–µ—Ç–∫–∞ */
}

/* –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç (—Ñ–∞–π–ª –∏–ª–∏ –∞—É–¥–∏–æ) */
.chat-file-item{
    display:flex;
    align-items:center;
    padding:6px 8px;
    border-radius:8px;
    background-color:#2A2A2A;              /* —á—É—Ç—å —Å–≤–µ—Ç–ª–µ–µ —Ñ–æ–Ω–∞ */
    margin-bottom:4px;
    cursor:pointer;
}
.chat-file-item:last-child{
    margin-bottom:0;
}

.chat-file-icon{
    width:26px;
    height:26px;
    border-radius:6px;
    background-color:#3A3A3A;
    margin-right:8px;
    flex-shrink:0;
    position:relative;
}
.chat-file-icon::before{
    content:'‚¨á';
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    font-size:13px;
    opacity:0.9;
}

/* –ø–æ—Å–ª–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —Å–∫—Ä—ã–≤–∞–µ–º —Å—Ç—Ä–µ–ª–∫—É */
.chat-file-icon.downloaded::before{
    opacity:0;
}

.chat-file-main{
    flex:1;
    min-width:0;
}
.chat-file-name{
    font-size:13px;
    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
}
.chat-file-meta{
    font-size:11px;
    color:rgba(255,255,255,0.7);
    margin-top:2px;
}

/* –ø–æ–∫–∞–∑ –Ω—É–∂–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏ */
.chat-attachments-media-grid{
    display:block;
}
.chat-attachments-files-list,
.chat-attachments-audio-list{
    display:none;
}

.chat-attachments-show-files .chat-attachments-media-grid{
    display:none;
}
.chat-attachments-show-files .chat-attachments-files-list{
    display:block;
}
.chat-attachments-show-files .chat-attachments-audio-list{
    display:none;
}

.chat-attachments-show-audio .chat-attachments-media-grid{
    display:none;
}
.chat-attachments-show-audio .chat-attachments-files-list{
    display:none;
}
.chat-attachments-show-audio .chat-attachments-audio-list{
    display:block;
}