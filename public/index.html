<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">

    <!-- Viewport без блокировки зума -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <!-- PWA / A2HS -->
    <meta name="theme-color" content="#111111">
    <link rel="manifest" href="/manifest.webmanifest">

    <!-- iOS PWA -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="VDF Chat">
    <link rel="apple-touch-icon" href="/logo.png">

    <title>VDF Chat</title>

    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <!-- Favicon (браузерная иконка) -->
    <link rel="icon" type="image/png" sizes="32x32" href="/logo.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/logo.png">

    <!-- Иконка для iOS (Add to Home Screen) -->
    <link rel="apple-touch-icon" href="/logo.png">
</head>
<body>
    <noscript>Для работы приложения необходим JavaScript.</noscript>

    <!-- SPLASH -->
    <main id="splash" class="splash" aria-hidden="true">
        <img src="logo.png" alt="Vinyl Dance Family" class="logo">
    </main>

    <!-- WELCOME -->
    <main id="welcome" class="welcome-screen" aria-hidden="true">
        <section class="welcome-content">
            <h1 class="welcome-title">
                Добро пожаловать в<br>
                <span>VDF Chat</span>
            </h1>
            <p class="welcome-subtitle">
                Здесь вы сможете общаться<br>
                со своей командой
            </p>
        </section>

        <section class="welcome-buttons">
            <button class="btn" id="registerBtn" type="button">Регистрация</button>
            <button class="btn" id="loginBtn" type="button">Вход</button>
        </section>
    </main>

    <!-- REGISTER: ROLE -->
    <main id="registerScreen" class="register-screen" aria-hidden="true">
        <button type="button" class="back-btn" id="backToWelcome" aria-label="Назад">←</button>

        <header class="register-header">
            <h1 class="register-title">Регистрация</h1>
            <p class="register-subtitle">
                Придумайте логин и пароль<br>
                и выберите кем вы являетесь
            </p>
        </header>

        <form class="register-form" autocomplete="off">
            <p class="field-note">Только на латинице</p>
            <div class="field">
                <input id="loginInput" type="text" maxlength="20" placeholder="Логин" autocomplete="username">
            </div>

            <p class="field-note">Только на латинице</p>
            <div class="field field-password">
                <input id="passwordInput" type="password" maxlength="20" placeholder="Пароль" autocomplete="new-password">
                <button type="button" class="toggle-password" aria-label="Показать пароль"></button>
            </div>

            <div class="field field-select" id="roleSelect">
                <div class="select-display">
                    <span id="roleText">Выберите</span>
                    <span class="select-arrow"></span>
                </div>
                <div class="select-options">
                    <div class="select-option" data-value="parent">Родитель</div>
                    <div class="select-option" data-value="dancer">Танцор</div>
                </div>
                <input type="hidden" id="roleValue">
            </div>

            <!-- type="submit" — для поддержки Enter, логика обработана в JS -->
            <button type="submit" class="btn btn-primary">Продолжить</button>
        </form>
    </main>

    <!-- REGISTER: PARENT -->
    <main id="parentInfoScreen" class="parent-screen" aria-hidden="true">
        <button type="button" class="back-btn" id="backToRegister" aria-label="Назад">←</button>

        <header class="parent-header">
            <h1 class="register-title">Регистрация</h1>
            <p class="register-subtitle">
                Введите имя, фамилию и<br>
                выберите команду в которой<br>
                ваш ребёнок
            </p>
        </header>

        <form class="parent-form" autocomplete="off">
            <div class="field">
                <input id="parentFirstName" type="text" maxlength="30" placeholder="Имя">
            </div>

            <div class="field">
                <input id="parentLastName" type="text" maxlength="30" placeholder="Фамилия">
            </div>

            <div class="field field-select" id="teamSelect">
                <div class="select-display">
                    <span id="teamText">Выберите</span>
                    <span class="select-arrow"></span>
                </div>
                <div class="select-options">
                    <div class="select-option" data-value="vinyl-dance-family">Vinyl Dance Family</div>
                    <div class="select-option" data-value="vinyl-junior-family">Vinyl Junior Family</div>
                    <div class="select-option" data-value="vinyl-kids-family">Vinyl Kids Family</div>
                    <div class="select-option" data-value="vdf-crew">VDF Crew</div>
                    <div class="select-option" data-value="vdf-kidz-crew">VDF Kidz Crew</div>
                    <div class="select-option" data-value="Аделя 10+">Аделя 10+</div>
                    <div class="select-option" data-value="Ди 10+">Ди 10+</div>
                    <div class="select-option" data-value="Аделя 18+">Аделя 18+</div>
                    <div class="select-option" data-value="Алексей 10+">Алексей 10+</div>
                    <div class="select-option" data-value="Вика 9+">Вика 9+</div>
                    <div class="select-option" data-value="Алексей 12+ Гжель">Алексей 12+ Гжель</div>
                    <div class="select-option" data-value="Ангелина 7+">Ангелина 7+</div>
                    <div class="select-option" data-value="Аврора 7+">Аврора 7+</div>
                    <div class="select-option" data-value="Ангелина 12+">Ангелина 12+</div>
                    <div class="select-option" data-value="Ангелина 14+">Ангелина 14+</div>
                    <div class="select-option" data-value="6 Состав">6 Состав</div>
                    <div class="select-option" data-value="7 Состав">7 Состав</div>
                    <div class="select-option" data-value="Crazy Parents">Crazy Parents</div>
                    <div class="select-option" data-value="Алексей 7+ Реутов">Алексей 7+ Реутов</div>
                    <div class="select-option" data-value="Вика 7+ Реутов">Вика 7+ Реутов</div>
                </div>
                <input type="hidden" id="teamValue">
            </div>

            <button type="submit" class="btn btn-primary" id="parentContinueBtn">Продолжить</button>
        </form>
    </main>

    <!-- REGISTER: DANCER -->
    <main id="dancerInfoScreen" class="dancer-screen" aria-hidden="true">
        <button type="button" class="back-btn" id="backToRegisterFromDancer" aria-label="Назад">←</button>

        <header class="dancer-header">
            <h1 class="register-title">Регистрация</h1>
            <p class="register-subtitle">
                Введите имя, фамилию,<br>
                выберите дату рождения и<br>
                команду в которой занимаетесь
            </p>
        </header>

        <form class="dancer-form" autocomplete="off">
            <div class="field">
                <input id="dancerFirstName" type="text" maxlength="30" placeholder="Имя">
            </div>

            <div class="field">
                <input id="dancerLastName" type="text" maxlength="30" placeholder="Фамилия">
            </div>

            <div class="field field-select" id="dancerTeamSelect">
                <div class="select-display">
                    <span id="dancerTeamText">Выберите</span>
                    <span class="select-arrow"></span>
                </div>
                <div class="select-options">
                    <div class="select-option" data-value="vinyl-dance-family">Vinyl Dance Family</div>
                    <div class="select-option" data-value="vinyl-junior-family">Vinyl Junior Family</div>
                    <div class="select-option" data-value="vinyl-kids-family">Vinyl Kids Family</div>
                    <div class="select-option" data-value="vdf-crew">VDF Crew</div>
                    <div class="select-option" data-value="vdf-kidz-crew">VDF Kidz Crew</div>
                    <div class="select-option" data-value="Аделя 10+">Аделя 10+</div>
                    <div class="select-option" data-value="Ди 10+">Ди 10+</div>
                    <div class="select-option" data-value="Аделя 18+">Аделя 18+</div>
                    <div class="select-option" data-value="Алексей 10+">Алексей 10+</div>
                    <div class="select-option" data-value="Вика 9+">Вика 9+</div>
                    <div class="select-option" data-value="Алексей 12+ Гжель">Алексей 12+ Гжель</div>
                    <div class="select-option" data-value="Ангелина 7+">Ангелина 7+</div>
                    <div class="select-option" data-value="Аврора 7+">Аврора 7+</div>
                    <div class="select-option" data-value="Ангелина 12+">Ангелина 12+</div>
                    <div class="select-option" data-value="Ангелина 14+">Ангелина 14+</div>
                    <div class="select-option" data-value="6 Состав">6 Состав</div>
                    <div class="select-option" data-value="7 Состав">7 Состав</div>
                    <div class="select-option" data-value="Crazy Parents">Crazy Parents</div>
                    <div class="select-option" data-value="Алексей 7+ Реутов">Алексей 7+ Реутов</div>
                    <div class="select-option" data-value="Вика 7+ Реутов">Вика 7+ Реутов</div>
                </div>
                <input type="hidden" id="dancerTeamValue">
            </div>

            <div class="field field-date" id="dancerDobField">
                <span id="dancerDobText">Выберите</span>
                <button type="button" class="date-btn" id="dancerDobBtn" aria-label="Выбрать дату рождения"></button>
                <input type="date" id="dancerDobInput">
            </div>

            <button type="submit" class="btn btn-primary" id="dancerContinueBtn">Продолжить</button>
        </form>
    </main>

    <!-- LOGIN -->
    <main id="loginScreen" class="login-screen" aria-hidden="true">
        <button type="button" class="back-btn" id="backToWelcomeFromLogin" aria-label="Назад">←</button>

        <header class="login-header">
            <h1 class="register-title">Вход</h1>
            <p class="register-subtitle">
                Введите логин и пароль для<br>
                входа
            </p>
        </header>

        <form class="login-form" autocomplete="off">
            <div class="field">
                <input id="loginScreenLogin" type="text" maxlength="20" placeholder="Логин" autocomplete="username">
            </div>

            <div class="field">
                <input id="loginScreenPassword" type="password" maxlength="20" placeholder="Пароль" autocomplete="current-password">
            </div>

            <button type="submit" class="btn btn-primary" id="loginContinueBtn">Продолжить</button>
        </form>
    </main>

    <!-- FEED: ЛЕНТА АКТИВНОСТИ (главный экран после входа) -->
    <main id="feedScreen" class="feed-screen" aria-hidden="true">
        <section class="feed-list" id="feedList"></section>

        <button type="button" class="feed-create-btn" id="createPostBtn">
            Создать пост
        </button>
    </main>

    <!-- MODAL: СОЗДАНИЕ ПОСТА -->
    <div id="postModal" class="post-modal" aria-hidden="true">
        <div class="post-modal-backdrop"></div>
        <div class="post-modal-card" role="dialog" aria-modal="true" aria-labelledby="postModalTitle">
            <div class="post-modal-title" id="postModalTitle">Новый пост</div>

            <div class="post-modal-field">
                <div class="post-modal-label">Фотография (по желанию)</div>
                <button type="button" class="post-modal-upload-btn" id="postImageBtn">
                    Загрузить фото
                </button>
                <input type="file" id="postImageInput" accept="image/*" style="display:none">

                <div class="post-image-preview" id="postImagePreview" style="display:none">
                    <img id="postImagePreviewImg" alt="Превью">
                </div>
            </div>

            <div class="post-modal-field">
                <div class="post-modal-label">Текст поста</div>
                <textarea id="postTextInput" maxlength="2000" placeholder="Напишите что-нибудь..."></textarea>
            </div>

            <div class="post-modal-actions">
                <button type="button" class="post-modal-btn post-modal-cancel" id="postCancelBtn">
                    Отмена
                </button>
                <button type="button" class="post-modal-btn post-modal-submit" id="postSubmitBtn">
                    Опубликовать
                </button>
            </div>
        </div>
    </div>

    <!-- MAIN (LIST OF CHATS) -->
    <main id="mainScreen" class="main-screen" aria-hidden="true">
        <div class="chat-search-wrapper">
            <input type="text" id="chatSearchInput" placeholder="Поиск по чатам">
        </div>
        <section class="chat-list" id="chatList"></section>
    </main>

    <!-- CHAT -->
    <main id="chatScreen" class="chat-screen" aria-hidden="true">
        <header class="chat-header">
            <button type="button" class="chat-back" id="backToMainFromChat" aria-label="Назад">←</button>

            <div class="chat-header-center">
                <div class="chat-header-title" id="chatHeaderTitle">Чат</div>
                <div class="chat-header-status" id="chatHeaderStatus"></div>
            </div>

            <div class="chat-header-avatar">
                <img id="chatHeaderAvatar" src="/img/default-avatar.png" alt="">
            </div>
        </header>

        <div id="pinnedTopBar" class="pinned-top-bar"></div>

        <section class="chat-content"></section>

        <!-- Лоадер чата: перекрывает и сообщения, и инпут -->
        <div id="chatLoadingOverlay" class="chat-loading-overlay">
            <div class="chat-loading-spinner"></div>
        </div>

        <div id="replyBar" class="reply-bar">
            <div class="reply-bar-content">
                <div id="replySender" class="reply-bar-title"></div>
                <div id="replyText" class="reply-bar-text"></div>
            </div>
            <button id="replyCancelBtn" type="button" class="reply-bar-cancel" aria-label="Отменить ответ">✕</button>
        </div>

        <div id="attachPreviewBar" class="attach-preview-bar"></div>

        <form class="chat-input-bar" id="chatInputForm" autocomplete="off">
            <button type="button" class="chat-attach-btn" id="chatAttachBtn" aria-label="Прикрепить файл"></button>
            <input type="file" id="chatAttachInput" multiple style="display:none">
            <input
                type="file"
                id="voiceFileInput"
                accept="audio/*"
                capture="microphone"
                style="display:none"
            />

            <textarea id="chatInput" rows="1" placeholder="Сообщение"></textarea>

            <!-- UI для записи голосового -->
            <div class="voice-record-ui" id="voiceRecordUi">
                <div class="voice-red-dot"></div>
                <div class="voice-wave-live" id="voiceWaveLive"></div>
                <div class="voice-record-hint">Свайп влево — отмена</div>
                <div class="voice-timer" id="voiceTimer">0:00</div>
            </div>

            <div class="chat-send-mic-wrapper">
                <button type="button" class="chat-mic-btn" id="chatMicBtn" aria-label="Записать голосовое"></button>
                <button type="submit" class="chat-send-btn" id="chatSendBtn" aria-label="Отправить сообщение"></button>
            </div>
        </form>

        <!-- MODAL: ПЕРЕСЛАТЬ СООБЩЕНИЕ -->
        <div id="forwardModal" class="forward-modal" aria-hidden="true">
            <div class="forward-backdrop"></div>
            <div class="forward-card" role="dialog" aria-modal="true" aria-labelledby="forwardModalTitle">
                <div class="forward-title" id="forwardModalTitle">Переслать сообщение</div>
                <div class="forward-list" id="forwardList"></div>
                <div class="forward-actions">
                    <button type="button" id="forwardCancelBtn" class="forward-btn forward-btn-cancel">
                        Отмена
                    </button>
                    <button type="button" id="forwardSubmitBtn" class="forward-btn forward-btn-submit" disabled>
                        Отправить
                    </button>
                </div>
            </div>
        </div>


        <!-- MODAL WITH GROUP INFO -->
        <div id="groupModal" class="chat-user-modal" aria-hidden="true">
            <div class="group-modal-backdrop"></div>
            <div class="group-modal-card" role="dialog" aria-modal="true">
                <button type="button" id="groupBackBtn" class="group-back-btn" aria-label="Назад">←</button>

                <div class="group-avatar-row">
                    <div class="group-avatar-wrapper">
                        <img id="groupAvatar" src="/group-avatar.png" alt="Аватар группы" class="group-avatar">
                    </div>
                    <button type="button" class="edit-icon" id="editGroupAvatarBtn" aria-label="Изменить аватар группы"></button>
                </div>

                <!-- строка с названием и возрастом -->
                <div class="group-name-row">
                    <div id="groupNameTitle" class="group-name"></div>
                    <span id="groupAgeLabel" class="group-age group-age-editable"></span>
                    <button type="button" class="edit-icon" id="editGroupNameBtn" aria-label="Изменить название группы"></button>
                </div>

                <!-- выбор новой аватарки -->
                <input type="file" id="groupAvatarInput" accept="image/*" style="display:none">

                <!-- редактирование названия -->
                <input type="text" id="groupNameEditInput" class="group-name-input" style="display:none">
                <button type="button" id="groupNameSaveBtn" class="group-name-save-btn" style="display:none">
                    Сохранить
                </button>

                <div class="chat-user-pill" id="groupMembersCount"></div>

                <div class="chat-attachments" id="groupAttachments">
                    <div class="chat-attachments-tabs">
                        <button type="button" class="chat-attachments-tab chat-attachments-tab-active" id="groupMembersTab">
                            Участники
                        </button>
                        <button type="button" class="chat-attachments-tab" id="groupMediaTab">
                            Медиа
                        </button>
                        <button type="button" class="chat-attachments-tab" id="groupFilesTab">
                            Файлы
                        </button>
                        <button type="button" class="chat-attachments-tab" id="groupAudioTab">
                            Аудио
                        </button>
                    </div>
                    <div class="chat-attachments-content">
                        <!-- вкладка "Участники" -->
                        <div class="chat-attachments-members-list" id="groupMembersPane">
                            <button type="button" class="group-add-member-btn" id="groupAddMemberBtn">
                                Добавить участника
                            </button>
                            <div class="group-members-list" id="groupMembersList"></div>
                        </div>

                        <!-- Медиа / файлы / аудио -->
                        <div class="chat-attachments-media-grid" id="groupMediaGrid"></div>
                        <div class="chat-attachments-files-list" id="groupFilesList"></div>
                        <div class="chat-attachments-audio-list" id="groupAudioList"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- MODAL: ADD MEMBER BY ID -->
        <div id="groupAddModal" class="chat-user-modal" aria-hidden="true">
            <div class="group-add-modal-backdrop"></div>
            <div class="group-add-modal-card" role="dialog" aria-modal="true">
                <div class="group-avatar-row">
                    <div class="group-avatar-wrapper">
                        <img id="groupAddAvatar" src="/group-avatar.png" alt="Аватар группы" class="group-avatar">
                    </div>
                </div>

                <div class="group-name" id="groupAddName"></div>

                <div class="chat-user-pill" id="groupAddMembersCount"></div>

                <div class="group-add-label">Введите ID пользователя</div>

                <div class="group-add-input-wrapper">
                    <input type="text" id="groupAddUserIdInput" maxlength="10" placeholder="ID">
                </div>

                <button type="button" class="group-add-submit-btn" id="groupAddSubmitBtn">
                    Добавить
                </button>
            </div>
        </div>

        <!-- MODAL: USER INFO -->
        <div id="chatUserModal" class="chat-user-modal" aria-hidden="true">
            <div class="chat-user-modal-backdrop"></div>
            <div class="chat-user-modal-card" role="dialog" aria-modal="true">
                <button type="button" id="chatUserBackBtn" class="chat-user-back-btn" aria-label="Назад">←</button>

                <div class="chat-user-avatar-wrapper">
                    <img id="chatUserAvatar" src="/img/default-avatar.png" alt="Аватар пользователя" class="chat-user-avatar">
                </div>

                <div id="chatUserName" class="chat-user-name"></div>

                <div id="chatUserId"   class="chat-user-pill"></div>
            
                <div id="chatUserTeam" class="chat-user-pill"></div>
                <div id="chatUserDob"  class="chat-user-pill"></div>

                <button type="button" id="chatUserWriteBtn" class="chat-user-write-btn">
                    Написать сообщение
                </button>
                <button type="button" id="chatUserRemoveBtn" class="chat-user-remove-btn">
                    Удалить из группы
                </button>

                <!-- Вложения пользователя (медиа/файлы/аудио из личных чатов) -->
                <div id="chatUserAttachments" class="chat-attachments" style="margin-top:16px;">
                    <div class="chat-attachments-tabs">
                        <button type="button" class="chat-attachments-tab chat-attachments-tab-active" id="chatUserMediaTab">Медиа</button>
                        <button type="button" class="chat-attachments-tab" id="chatUserFilesTab">Файлы</button>
                        <button type="button" class="chat-attachments-tab" id="chatUserAudioTab">Аудио</button>
                    </div>
                    <div class="chat-attachments-content">
                        <div class="chat-attachments-media-grid" id="chatUserMediaGrid"></div>
                        <div class="chat-attachments-files-list" id="chatUserFilesList"></div>
                        <div class="chat-attachments-audio-list" id="chatUserAudioList"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- MEDIA VIEWER (просмотр фото/видео, PWA-style) -->
        <div id="mediaViewer" class="media-viewer" aria-hidden="true">
            <div class="media-viewer-backdrop"></div>
            <div class="media-viewer-content">
                <div class="media-viewer-chrome">
                    <div class="media-viewer-topbar">
                        <button type="button" id="mediaViewerCloseBtn" class="media-viewer-close-btn" aria-label="Закрыть просмотр">✕</button>
                        <div class="media-viewer-title" id="mediaViewerTitle"></div>
                    </div>

                    <div class="media-viewer-main">
                        <img  id="mediaViewerImg"   class="media-viewer-img"   src="" alt="">
                        <video id="mediaViewerVideo" class="media-viewer-video" playsinline webkit-playsinline></video>
                        <!-- Лоадер видео -->
                        <div id="mediaViewerLoader" class="media-viewer-loader"></div>
                    </div>

                    <div class="media-viewer-bottombar" id="mediaViewerControls">
                        <button type="button" id="mediaViewerPlayPause" class="media-viewer-playpause" aria-label="Пуск/пауза"></button>
                        <div class="media-viewer-timeline">
                            <div class="media-viewer-timeline-track">
                                <div class="media-viewer-timeline-fill" id="mediaViewerTimelineFill"></div>
                                <div class="media-viewer-timeline-thumb" id="mediaViewerTimelineThumb"></div>
                            </div>
                        </div>
                        <div class="media-viewer-time">
                            <span id="mediaViewerCurrentTime">0:00</span>
                            <span id="mediaViewerTotalTime">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- PROFILE -->
    <main id="profileScreen" class="profile-screen" aria-hidden="true">
        <div class="profile-content">
            <div class="profile-avatar-wrapper">
                <img id="profileAvatar" src="/img/default-avatar.png" alt="Аватар" class="profile-avatar">
            </div>

            <button type="button" class="profile-change-photo" id="changePhotoBtn">
                Изменить фотографию
            </button>
            <input type="file" id="profilePhotoInput" accept="image/*" style="display:none">

            <div class="profile-name" id="profileName"></div>
            <div class="profile-pill" id="profileId"></div>
            <div class="profile-pill" id="profileTeam"></div>
            <div class="profile-pill" id="profileDob"></div>
            <button type="button" class="profile-logout-btn" id="logoutBtn">
                Выйти из аккаунта
            </button>
            <button type="button" class="profile-admin-btn" id="profileAdminBtn">
                Админ‑панель
            </button>
        </div>
    </main>
    <main id="adminScreen" class="admin-screen" aria-hidden="true">
        <div class="admin-content">
            <h1 class="register-title">Админ‑панель</h1>
            <p class="register-subtitle">
                Прямой доступ к данным. Будьте осторожны — изменения необратимы.
            </p>

            <!-- SQL режим -->
            <div class="admin-db-select">
                <label>
                    <span>База данных:</span>
                    <select id="adminDbSelect">
                        <option value="main">Основная (db.sqlite)</option>
                        <option value="msg">Сообщения (messages.sqlite)</option>
                    </select>
                </label>
            </div>

            <div class="admin-sql-wrapper">
                <textarea id="adminSqlInput" placeholder="Например: SELECT * FROM users LIMIT 10;"></textarea>
            </div>

            <button type="button" class="btn btn-primary" id="adminSqlRunBtn">Выполнить SQL</button>

            <pre id="adminSqlResult" class="admin-sql-result">Результат будет показан здесь</pre>

            <!-- UI-редактор таблиц -->
            <hr style="border:none;border-top:1px solid rgba(255,255,255,0.1);margin:20px 0;">

            <h2 class="register-title" style="font-size:20px;margin-bottom:8px;">Редактор таблиц</h2>

            <div class="admin-table-selects">
                <label>
                    <span>База:</span>
                    <select id="adminUiDbSelect">
                        <option value="main">db.sqlite</option>
                        <option value="msg">messages.sqlite</option>
                    </select>
                </label>

                <label>
                    <span>Таблица:</span>
                    <select id="adminTableSelect">
                        <option value="">— выберите —</option>
                    </select>
                </label>

                <button type="button" class="btn" id="adminLoadTableBtn" style="max-width:140px;padding:8px 12px;font-size:14px;">
                    Загрузить
                </button>
            </div>

            <div id="adminTableContainer" class="admin-table-container">
                <span style="font-size:12px;color:rgba(255,255,255,0.7);">
                    Выберите базу и таблицу, затем нажмите «Загрузить».
                </span>
            </div>

            <!-- Пользователи -->
            <hr style="border:none;border-top:1px solid rgba(255,255,255,0.1);margin:20px 0;">

            <h2 class="register-title" style="font-size:20px;margin-bottom:8px;">Пользователи</h2>

            <div class="admin-users-controls">
                <input id="adminUserSearch" type="text" placeholder="Поиск по логину, ФИО или ID">
                <select id="adminUserRoleFilter">
                    <option value="">Все роли</option>
                    <option value="parent">родитель</option>
                    <option value="dancer">танцор</option>
                    <option value="trainer">тренер</option>
                    <option value="тренер">тренер (ru)</option>
                    <option value="admin">admin</option>
                </select>
                <button type="button" class="admin-users-reload-btn" id="adminUserReloadBtn">
                    Обновить
                </button>
            </div>

            <div id="adminUsersList" class="admin-users-list">
                <span style="font-size:12px;color:rgba(255,255,255,0.7);">
                    Нажмите «Обновить», чтобы загрузить список пользователей.
                </span>
            </div>

            <!-- Журнал действий -->
            <hr style="border:none;border-top:1px solid rgba(255,255,255,0.1);margin:20px 0;">

            <h2 class="register-title" style="font-size:20px;margin-bottom:8px;">Журнал действий</h2>

            <div class="admin-audit-controls">
                <input id="adminAuditSearch" type="text" placeholder="Фильтр по логину, действию или объекту">
                <button type="button" class="admin-users-reload-btn" id="adminAuditReloadBtn">
                    Обновить
                </button>
            </div>

            <div id="adminAuditList" class="admin-audit-list">
                <span style="font-size:12px;color:rgba(255,255,255,0.7);">
                    Нажмите «Обновить», чтобы увидеть последние действия.
                </span>
            </div>
        </div>
    </main>

    <!-- PLUS SCREEN: добавление друга + переход к созданию группы -->
    <main id="plusScreen" class="create-group-screen" aria-hidden="true">
        <header class="create-group-header">
            <h1 class="register-title">Добавить друга</h1>
        </header>

        <form class="create-friend-form" autocomplete="off">
            <div class="field">
                <input id="friendIdInput" type="text" maxlength="7" placeholder="ID друга (7 цифр)">
            </div>
            <button type="submit" class="btn btn-primary" id="friendAddBtn">Добавить</button>
        </form>

        <button type="button" class="btn" id="openCreateGroupScreenBtn" style="margin-top:24px;">
            Создать группу
        </button>
    </main>


    <!-- CREATE GROUP -->
    <main id="createGroupScreen" class="create-group-screen" aria-hidden="true">
        <button type="button" class="back-btn" id="backFromCreateGroup" aria-label="Назад">←</button>

        <header class="create-group-header">
            <h1 class="register-title">Создание новой группы</h1>
        </header>

        <form class="create-group-form" autocomplete="off">
            <div class="field">
                <input id="groupNameInput" type="text" maxlength="40" placeholder="Название группы">
            </div>

            <div class="create-group-role-label">
                Группа для родителей или для танцоров?
            </div>
            <div class="create-group-role">
                <label class="radio-option">
                    <input type="radio" name="groupAudience" value="parents" id="audienceParents">
                    <span class="radio-circle"></span>
                    <span>Для родителей</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="groupAudience" value="dancers" id="audienceDancers">
                    <span class="radio-circle"></span>
                    <span>Для танцоров</span>
                </label>
            </div>

            <div class="field field-select create-group-age-field" id="ageField">
                <div class="select-display">
                    <span id="ageText">Выберите возраст участников</span>
                    <span class="select-arrow"></span>
                </div>
                <div class="select-options">
                    <div class="select-option" data-value="5+">5+</div>
                    <div class="select-option" data-value="7+">7+</div>
                    <div class="select-option" data-value="9+">9+</div>
                    <div class="select-option" data-value="10+">10+</div>
                    <div class="select-option" data-value="12+">12+</div>
                    <div class="select-option" data-value="14+">14+</div>
                    <div class="select-option" data-value="18+">18+</div>
                </div>
                <input type="hidden" id="ageValue">
            </div>

            <button type="submit" class="btn btn-primary" id="createGroupBtn">Создать</button>
        </form>
    </main>

    <!-- OVERLAY ДЛЯ ЛАНДШАФТА НА МОБИЛЬНЫХ -->
    <div id="orientationOverlay" class="orientation-overlay">
        Поверните устройство в портретный режим
    </div>

    <!-- BOTTOM NAV -->
    <nav id="bottomNav" class="bottom-nav" aria-hidden="true">
        <button class="nav-btn nav-add" id="navAddBtn" type="button">
            <img id="navAddIcon" src="icons/plus.png" alt="Создать группу">
        </button>
        <button class="nav-btn nav-list" id="navListBtn" type="button">
            <img id="navListIcon" src="icons/list-gray.png" alt="Лента">
        </button>
        <button class="nav-btn nav-home" id="navHomeBtn" type="button">
            <img id="navHomeIcon" src="icons/home.png" alt="Чаты">
        </button>
        <button class="nav-btn nav-profile" id="navProfileBtn" type="button">
            <img id="navProfileIcon" src="icons/user.png" alt="Профиль">
        </button>
    </nav>

    <!-- Глобальный баннер-уведомление / тост -->
    <div id="networkBanner" class="network-banner" role="status" aria-live="polite"></div>

    <script src="app.js"></script>
</body>
</html>